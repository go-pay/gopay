{
  "server": {
    "addr": ":8088",
    "readTimeoutSeconds": 10,
    "writeTimeoutSeconds": 10
  },
  "publicBaseUrl": "https://pay.example.com",
  "defaultTenantId": "0",
  "secretsBaseDir": "/secrets",
  "apiAuth": {
    "token": ""
  },
  "sharedAuth": {
    "sharedSecret": "change-me",
    "sharedSecretPrev": "",
    "required": true,
    "clockSkewSeconds": 300,
    "nonceTtlSeconds": 300
  },
  "javaWebhook": {
    "url": "http://ruoyi-pay/internal/pay-gateway/events",
    "token": "",
    "timeoutMillis": 1500,
    "async": true,
    "consumerGroup": "pay-gateway"
  },
  "tls": {
    "caFile": ""
  },
  "redis": {
    "addr": "redis:6379",
    "password": "",
    "db": 0,
    "keyPrefix": "pay-gateway:",
    "idempotencyTtlSeconds": 86400,
    "callbackDedupTtlSeconds": 604800,
    "callbackProcessingTtlSeconds": 300
  },
  "merchantSync": {
    "snapshotUrl": "http://ruoyi-pay/internal/pay-gateway/merchants/snapshot",
    "pollIntervalSeconds": 60,
    "changeStream": "pay-gateway:merchant-config-changed",
    "changeConsumerGroup": "pay-gateway-config"
  },
  "merchants": [
    {
      "tenantId": "0",
      "merchantId": "mch_001",
      "wechatV3": {
        "appId": "wx_appid",
        "mchId": "1900000109",
        "serialNo": "serial_no",
        "apiV3Key": "api_v3_key",
        "privateKeyRef": "wechat/mch_001/apiclient_key.pem"
      },
      "alipay": {
        "isProd": false,
        "appId": "2021000123456789",
        "privateKeyRef": "alipay/mch_001/app_private_key.pem",
        "alipayPublicKeyRef": "alipay/mch_001/alipay_public_key.pem"
      }
    }
  ]
}
